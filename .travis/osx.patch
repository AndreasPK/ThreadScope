diff --git a/.travis.yml b/.travis.yml
index 8d435cb..a8af409 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -49,11 +49,15 @@ jobs:
       addons: {"apt":{"sources":[{"sourceline":"deb http://ppa.launchpad.net/hvr/ghc/ubuntu xenial main","key_url":"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x063dab2bdc0b3f9fcebc378bff3aeacef6f88286"}],"packages":["ghc-7.10.2","cabal-install-3.0","libgtk2.0-dev"]}}
       os: linux
     - compiler: ghc-8.8.1
-      addons: {"apt":{"sources":[{"sourceline":"deb http://ppa.launchpad.net/hvr/ghc/ubuntu xenial main","key_url":"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x063dab2bdc0b3f9fcebc378bff3aeacef6f88286"}],"packages":["ghc-8.8.1","cabal-install-3.0","libgtk2.0-dev"]}}
+      addons: {"homebrew": {"packages":["gtk+", "gtk-mac-integration"]}}
+      env: PKG_CONFIG_PATH=/usr/local/opt/libffi/lib/pkgconfig
       os: osx
+      osx_image: xcode11
     - compiler: ghc-8.6.5
-      addons: {"apt":{"sources":[{"sourceline":"deb http://ppa.launchpad.net/hvr/ghc/ubuntu xenial main","key_url":"https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x063dab2bdc0b3f9fcebc378bff3aeacef6f88286"}],"packages":["ghc-8.6.5","cabal-install-3.0","libgtk2.0-dev"]}}
+      addons: {"homebrew": {"packages":["gtk+", "gtk-mac-integration"]}}
+      env: PKG_CONFIG_PATH=/usr/local/opt/libffi/lib/pkgconfig
       os: osx
+      osx_image: xcode11
 before_install:
   - HC=$(echo "/opt/$CC/bin/ghc" | sed 's/-/\//')
   - WITHCOMPILER="-w $HC"
@@ -133,6 +137,8 @@ install:
     echo "packages: ." >> cabal.project
   - |
   - "for pkg in $($HCPKG list --simple-output); do echo $pkg | sed 's/-[^-]*$//' | (grep -vE -- '^(threadscope)$' || true) | sed 's/^/constraints: /' | sed 's/$/ installed/' >> cabal.project.local; done"
+  - |
+    if [ "$TRAVIS_OS_NAME" = "osx" ]; then echo 'constraints: gtk +have-quartz-gtk' >> cabal.project; fi
   - cat cabal.project || true
   - cat cabal.project.local || true
   - if [ -f "./configure.ac" ]; then (cd "." && autoreconf -i); fi
@@ -158,6 +164,8 @@ script:
     echo "packages: ${PKGDIR_threadscope}" >> cabal.project
   - |
   - "for pkg in $($HCPKG list --simple-output); do echo $pkg | sed 's/-[^-]*$//' | (grep -vE -- '^(threadscope)$' || true) | sed 's/^/constraints: /' | sed 's/$/ installed/' >> cabal.project.local; done"
+  - |
+    if [ "$TRAVIS_OS_NAME" = "osx" ]; then echo 'constraints: gtk +have-quartz-gtk' >> cabal.project; fi
   - cat cabal.project || true
   - cat cabal.project.local || true
   # Building...
